import{a as i}from"./authGuard-BZN1f7iU.js";import{t as r}from"./toggleVisibilityOfElements-BjvdhEGM.js";import{r as s}from"./read-lb79siKI.js";import"./headers-BmPhY2IE.js";function c(){console.log("Logging out..."),localStorage.removeItem("accessToken"),window.location.href="/auth/"}function l(){const t=document.getElementById("logoutBtn");t&&t.addEventListener("click",c)}l();const d=i();r(d);function m(t){const o=document.createElement("div");o.className="bg-white p-6 rounded-lg shadow-lg mb-6 cursor-pointer hover:shadow-xl transition-shadow duration-200",o.setAttribute("data-post-id",t.id),o.addEventListener("click",function(){window.location.href=`/post/?id=${t.id}`});const n=document.createElement("h2");if(n.className="text-2xl font-bold text-gray-800 mb-2",n.textContent=t.title,o.appendChild(n),t.author&&t.author.name){const e=document.createElement("p");e.className="text-sm text-gray-500 mb-4",e.textContent=`Author: ${t.author.name}`,o.appendChild(e)}const a=document.createElement("p");if(a.className="text-gray-700 mb-4",a.textContent=t.body,o.appendChild(a),t.tags&&t.tags.length>0){const e=document.createElement("p");e.className="text-sm text-gray-600",e.textContent="Tags: "+t.tags.join(", "),o.appendChild(e)}if(t.media&&t.media.url){const e=document.createElement("img");e.className="w-full h-auto rounded mt-4",e.src=t.media.url,e.alt=t.media.alt||"Post media",o.appendChild(e)}document.getElementById("postFeed").appendChild(o)}async function u(){if(d)try{(await s()).forEach(o=>m(o))}catch(t){console.error("Error loading posts:",t),document.getElementById("postFeed").textContent="Failed to load posts."}}u();
