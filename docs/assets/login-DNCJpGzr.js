import{A as s,p as c}from"./headers-BmPhY2IE.js";async function i({email:r,password:n}){try{const e=await fetch(s,{method:"POST",headers:c(),body:JSON.stringify({email:r,password:n})}),o=await e.json();if(console.log("Login response data:",o),!e.ok)throw new Error(o.message||"Login failed");return o}catch(e){throw console.error("Error during login:",e),e}}async function l(r){r.preventDefault();const n=new FormData(r.target),e={email:n.get("email"),password:n.get("password")};try{const o=await i(e);console.log("Login result:",o);const t=o.data.accessToken,a=o.data.name;if(!t)throw new Error("Access token not found in login response.");localStorage.setItem("accessToken",t),localStorage.setItem("name",a),alert("Logged in successfully! Redirecting to your dashboard..."),window.location.href="/"}catch(o){console.error("Login failed:",o),alert(`Login failed: ${o.message}`)}}const g=document.forms.login;g.addEventListener("submit",l);
